<!DOCTYPE html><html><head><meta charset="utf-8"><title>Untitled Document.md</title><style></style></head><body id="preview">
<h1><a id="Lets_Talk_About_Speech_CSS_0"></a>Let’s Talk About Speech CSS</h1>
<p>Boston, like many large cities, has a subway system. Commuters on it are accustomed to hearing regular public address announcements.</p>
<p>Riders simply tune out some announcements, such as the pre-recorded station stop names repeated over and over. Or public service announcements from local politicians and celebrities—again, kind of repetitive and not worth paying attention to after the first time. Most important are service alerts, which typically deliver direct and immediate information riders need to take action on.</p>
<h1><a id="An_informal_priority_5"></a>An informal priority</h1>
<p>A regular rider’s ear gets trained to listen for important announcements, passively, while fiddling around on a phone or zoning out after a hard day of work. It’s not a perfect system—occasionally I’ll find myself trapped on a train that’s been pressed into express service.</p>
<p>But we shouldn’t remove lower priority announcements. It’s unclear what kind of information will be important to whom: tourists, new residents, or visiting friends and family, to name a few.</p>
<p>A little thought experiment: Could this priority be more formalized via sound design? The idea would be to use different voices consistently or to prefix certain announcements with specific tones. I’ve noticed an emergent behavior from the train operators that kind of mimics this: Sometimes they’ll use a short blast of radio static to get riders’ attention before an announcement.</p>
<h1><a id="Opportunities_13"></a>Opportunities</h1>
<p>I’ve been wondering if this kind of thinking can be extended to craft better web experiences for everyone. After all, sound is enjoying a renaissance on the web: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API">the Web Audio API</a> has great support, and most major operating systems now ship with built-in narration tools. Digital assistants such as Siri are near-ubiquitous, and podcasts and audiobooks are a normal part of people’s media diet.</p>
<p>Deep in CSS’—ahem—labyrinthine documentation, are <a href="https://www.w3.org/TR/mediaqueries-4/#media-types">references to two Media Types</a> that speak to the problem: <a href="https://www.w3.org/TR/mediaqueries-4/#valdef-media-aural"><code>aural</code></a> and <a href="https://www.w3.org/TR/mediaqueries-4/#valdef-media-speech"><code>speech</code></a>. The core idea is pretty simple: audio-oriented CSS tells a digitized voice how it should read content, the same as how regular CSS tells the browser how to visually display content. Of the two, <code>aural</code> has been deprecated. <code>speech</code> Media Type detection is also tricky, as a screen reader potentially may not communicate its presence to the browser.</p>
<p><a href="https://www.w3.org/TR/css3-speech/">The CSS 3 Speech Module</a> looks the most promising. Like <code>display: none;</code>, it is part of <a href="https://css-tricks.com/user-facing-state/">the small subset of CSS that has an impact on screen reader behavior</a>. It uses traditional CSS property/value pairings alongside existing declarations to create an audio experience that has <a href="https://www.w3.org/TR/css3-speech/aural-box.png">parity with the visual box model</a>.</p>
<pre><code>code {
  background-color: #292a2b;
  color: #e6e6e6;
  font-family: monospace;
  speak: literal-punctuation; /* Reads all punctuation out loud in iOS VoiceOver */
}
</code></pre>
<h1><a id="Just_because_you_can_doesnt_mean_you_should_28"></a>Just because you can, doesn’t mean you should</h1>
<p>In his book <em>Building Accessible Websites</em>, author/journalist/accessibility researcher Joe Clark <a href="https://joeclark.org/book/sashay/serialization/Chapter11.html#p-1600">outlines some solid reasons</a> for never altering the way spoken audio is generated. Of note:</p>
<h2><a id="Support_32"></a>Support</h2>
<p>Many browsers don’t honor the technology, so writing the code would be a waste of effort. Simple and direct.</p>
<h2><a id="Proficiency_36"></a>Proficiency</h2>
<p>Clark argues that developers shouldn’t mess with the way spoken content is read because they lack training to “craft computer voices, position them in three-dimensional space, and specify background music and tones for special components.”</p>
<p>This may be the case for some, but ours is an industry of polymaths. I’ve known plenty of engineers who develop enterprise-scale technical architecture by day and compose music by night. There’s also the fact that <a href="https://www.washingtonpost.com/graphics/world/border-barriers/global-illegal-immigration-prevention/">we’ve kind of already done it</a>.</p>
<p>The point he’s driving at—crafting an all-consuming audio experience is an impossible task—is true. But the situation has changed. An entire audio universe doesn’t need to be created from whole cloth any more. Digitized voices are now supplied by most operating systems, and the number of inexpensive/free stock sound and sound editing resources is near-overwhelming.</p>
<h2><a id="Appropriateness_44"></a>Appropriateness</h2>
<p>For users of screen readers, the reader’s voice is their interface for the web. As a result, <a href="https://www.newscientist.com/article/dn21323-the-man-who-saves-stephen-hawkings-voice/">users can be very passionate about their screen reader’s voice</a>. In this light, Clark argues for not changing how a screen reader sounds out content that is not in its dictionary.</p>
<p>Screen readers have highly considered defaults for handling digital interfaces, and probably tackle content types many developers would not even think to consider. For example, certain screen readers use specialized sound cues to signal behaviors. <a href="https://www.nvaccess.org/">NVDA</a> uses a series of tones to communicate an active progress bar:</p>
<p><a href="https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fericwbailey%2Fnvda-progress-example&amp;autoplay=false">https://w.soundcloud.com/player/?url=https%3A%2F%2Fsoundcloud.com%2Fericwbailey%2Fnvda-progress-example&amp;autoplay=false</a></p>
<p>Altering screen reader behavior effectively alters the user’s expected experience. Sudden, unannounced changes can be highly disorienting and can be met with fear, anger, and confusion.</p>
<p>A good parallel would be if developers were to change how a mouse scrolls and clicks on a per-website basis. This type of unpredictability is not a case of annoying someone, it’s a case of inadvertently rendering content more difficult to understand or changing default operation to something unfamiliar.</p>
<h1><a id="My_voice_is_not_your_voice_58"></a>My voice is not your voice</h1>
<p>A screen reader’s voice is typically tied to the region and language preference set in the operating system.</p>
<p>For example, iOS contains a setting for not just for English, but for variations that include United Kingdom, Ireland, Singapore, New Zealand and five others. A user picking UK English will, among other things, find their Invert Colors feature renamed to “Invert Colours.”</p>
<p>However, a user’s language preference setting may not be their primary language, the language of their country of origin, or the language of the country they’re currently living in. My favorite example is my American friend who set the voice on his iPhone to UK English to make Siri sound more like a butler.</p>
<p>UK English is also an excellent reminder that regional differences are a point of consideration, y’all.</p>
<p>Another consideration is <a href="http://www.hearingloss.org/content/types-causes-and-treatment">biological and environmental hearing loss</a>. It can manifest with a spectrum of severity, so the <a href="https://www.w3.org/TR/css3-speech/#voice-balance"><code>voice-balance</code></a> <a href="https://www.w3.org/TR/css3-speech/#voice-balance">property</a> may have the potential to “move” the voice outside of someone’s audible range.</p>
<p>Also, the speed the voice reads out content may be too fast for some or too slow for others. Experienced screen reader operators may speed up the rate of speech, much as some users quickly scroll a page to locate information they need. A user new to screen readers, or a user reading about an unfamiliar topic may desire a slower speaking rate to keep from getting overwhelmed.</p>
<h1><a id="And_yet_72"></a>And yet</h1>
<p>Clark admits that some of his objections exist only in the realm of the academic. He cites the case of a technologically savvy blind user who uses the power of CSS’ interoperability to <a href="https://joeclark.org/book/sashay/serialization/Chapter11.html#p-1760">make his reading experience pleasant</a>.</p>
<p>According to my (passable) research skills, not much work has been done in asking screen reader users their preferences for this sort of technology in the interim. It’s also important to remember that <a href="http://adrianroselli.com/2017/02/not-all-screen-reader-users-are-blind.html">screen reader users aren’t necessarily blind</a>, nor are they necessarily technologically illiterate.</p>
<p>The idea here would be to treat CSS audio manipulation as something a user can opt into, either globally or on a per-site basis. Think web extensions like <a href="https://addons.mozilla.org/en-US/firefox/addon/greasemonkey/">Greasemonkey</a>/<a href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=en">Tampermonkey</a>, or when websites <a href="https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API">ask permission to send notifications</a>. It could be as simple as the kinds of preference toggles users are already used to interacting with:</p>
<p><a href="https://d2mxuefqeaa7sj.cloudfront.net/s_42A4D09972AE62C4FC4906DA81D2AA2A2AD9F455AF62BD49F30257494F0AF499_1498497211840_simulated-nvda-preference.png">https://d2mxuefqeaa7sj.cloudfront.net/s_42A4D09972AE62C4FC4906DA81D2AA2A2AD9F455AF62BD49F30257494F0AF499_1498497211840_simulated-nvda-preference.png</a></p>
<p>Opt-in also supposes features such as whitelists to prevent potential abuses of CSS-manipulated speech. For example, a user could only allow certain sites with CSS-manipulated content to be read, or block things like unsavory ad networks who use less-than-scrupulous practices to get attention.</p>
<h1><a id="Opinions_I_have_a_few_86"></a>Opinions: I have a few</h1>
<p>In certain situations a screen reader can’t know the context of content but can accept a human-authored suggestion on how to correctly parse it. For example, <a href="https://developer.apple.com/videos/play/wwdc2011/519/">James Craig’s 2011 WWDC video</a> outlines using <a href="https://www.w3.org/TR/css3-speech/#speaking-props-speak-as"><code>speak-as</code></a> <a href="https://www.w3.org/TR/css3-speech/#speaking-props-speak-as">values</a> to make street names and code read accurately (starts at the 15:36 mark, requires Safari to view).</p>
<p>In programming, every symbol counts. Being able to confidently state the relationship between things in code is a foundational aspect of programming. The case of <code>thisOne != thisOtherOne</code> being read as “this one is equal to this other one” when the intent was “this one is <em>not</em> equal to this other one” is <a href="https://stackoverflow.com/questions/118984/how-can-you-program-if-youre-blind">an especially compelling concern</a>.</p>
<p>Off the top of my head, other examples where this kind of audio manipulation would be desirable are:</p>
<ul>
<li>Ensuring <a href="http://atifaz.am/blog/vocalizer-help-others-pronounce-your-name-correctly.html">names are pronounced properly</a>.</li>
<li>Muting pronunciation of icons (especially icons made with web fonts) in <a href="https://css-tricks.com/can-make-icon-system-accessible/">situations where the developer can’t edit the HTML</a>.</li>
<li>Using sound effect <a href="https://www.w3.org/TR/css3-speech/#cue-props-cue-before-after">cues for interactive components</a> that the screen reader lacks built-in behaviors for.</li>
<li>Creating a cloud-synced service that stores a user’s personal collection of voice preferences and <a href="https://www.apple.com/voiceover/info/guide/_1136.html#unac049">pronunciation substitutions</a>.</li>
<li>Ability to set a companion voice to read specialized content such as transcribed interviews or code examples.</li>
<li>Emoting. Until we get something approaching <a href="https://www.w3.org/TR/emotionml/">EmotionML</a> support, this could be a good way to approximate the emotive intent of the author (No, <a href="https://tink.uk/accessible-emoji/">emoji don’t count</a>).</li>
<li>Spicing things up. If a user can’t view a website’s art direction, their experience relies on the skill of the writer or sound editor—on the internet this can sometimes leave a lot to be desired.</li>
</ul>
<h1><a id="The_reality_of_the_situation_102"></a>The reality of the situation</h1>
<p>The CSS Speech Module document was last modified in March 2012. <a href="https://www.apple.com/accessibility/iphone/vision/">VoiceOver on iOS</a> implements support using the following <code>speak-as</code> values for the <code>speak</code> property, as shown <a href="http://pauljadam.com/demos/css3speech.html">in this demo</a> by accessibility consultant <a href="http://pauljadam.com/">Paul J. Adam</a>:</p>
<ul>
<li><code>normal</code></li>
<li><code>digits</code></li>
<li><code>literal-punctuation</code></li>
<li><code>spell-out</code></li>
</ul>
<p>Apparently, the iOS accessibility features Speak Selection and Speak Screen currently do not honor these properties.</p>
<p>Despite the fact that CSS 3 Speech Module has to be ratified (and therefore is still subject to change), VoiceOver support signals that a de facto standard has been established. The popularity of iOS—millions of devices, 76% of which run the latest version of iOS—makes implementation worth considering. For those who would benefit from the clarity provided by these declarations, it could potentially make a big difference.</p>
<h1><a id="Be_inclusive_be_explicit_116"></a>Be inclusive, be explicit</h1>
<p>Play to CSS’ strengths and make small, surgical tweaks to website content to enhance the overall user experience, regardless of device or usage context. Start with semantic markup and a <a href="https://alistapart.com/article/understandingprogressiveenhancement">Progressive Enhancement</a> mindset. Don’t override pre-existing audio cues for the sake of vanity. Use iOS-supported <code>speak-as</code> values to provide clarity where VoiceOver’s defaults need an informed suggestion.</p>
<p>Writing small utility classes and applying them to semantically neutral <code>&lt;span&gt;</code> tags wrapped around troublesome content would be a good approach. Here’s a recording of VoiceOver reading <a href="https://codepen.io/ericwbailey/pen/990fab4f5c6489572a7c56b25fa8b2d3/?editors=0100">this CodePen</a> to demonstrate:</p>
<p><a href="https://www.youtube.com/watch?v=LuCrG0wXJ3w&amp;">https://www.youtube.com/watch?v=LuCrG0wXJ3w&amp;</a></p>
<p>Take care to extensively test to make sure these tweaks don’t impair other screen reading software. If you’re not already testing with screen readers, there’s no time like the present to get started!</p>
<p>Unfortunately, current support for CSS speech is limited. But learning what it can and can’t do, and the situations in which it could be used is still vital for developers. Thoughtful and well-considered application of CSS is a key part of creating robust interfaces for all users, regardless of their ability or circumstance.</p>

</body></html>
