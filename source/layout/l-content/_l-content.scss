// ============================================================================
// Layout
// Content
// ============================================================================


// Layout Logic ---------------------------------------------------------------
@mixin l-content() {
    @include component-page-side-margins();

    padding-top: rem(50);
    padding-bottom: rem(240);

    @supports #{$supports-viewportunits} {
        padding-top: 8vh;
        padding-bottom: 36vh;
    }
}

@mixin l-content-embedded-media() {
    max-width: $global-type-measure * 1.2;
}


// Layout Styling -------------------------------------------------------------
.l-content {
    z-index: z(l-content);

    // States
    &:focus {
        outline: none; // Removes browser default focus ring when jumping to main content
    }

    &__title {
        padding: rem(20) rem(40) ms(1, rem) rem(40);

        border-top-style: solid;
        border-top-width: border(thicker) * 2;

        background-color: c(l-content, background-title);

        @supports #{$supports-viewportunits} {
            padding-top: 20vh;
            padding-left: 8vw;
            padding-right: 8vw;
        }

        // Breakpoints
        @include mappy-bp(palm-medium) {
            padding-top: 25vh;
            padding-bottom: ms(2, rem);
        }

        @include mappy-bp(lap-small) {
            padding-top: 30vh;
            padding-bottom: ms(3, rem);
        }

        &--404 {
            border-top-color: c(l-content, border-404);
        }

        &--accessibility-statement {
            border-top-color: c(l-content, border-accessibility);
        }

        &--colophon {
            border-top-color: c(l-content, border-colophon);
        }

        &--old-stuff {
            border-top-color: c(l-content, border-old-stuff);
        }

        &--writing {
            border-top-color: c(l-content, border-writing);
        }
    }

    &__illustration {
        margin-bottom: ms(0.75, rem);
        width: ms(4, rem);

        // Breakpoints
        @include mappy-bp(palm-medium) {
            width: ms(5, rem);
        }
    }

    &__body {
        @include l-content();

        background-color: c(l-content, background-content);
    }

    &__body--post {
        // Breakpoints
        @include mappy-bp(palm-medium) {
            line-height: 1.8;
        }
    }

    p {
        margin-top: ms(1.25);
        max-width: $global-type-measure;
    }

    ul,
    ol {
        margin-top: ms(1.25);
    }

    li {
        margin-top: ms(0.25);
        margin-left: ms(1);

        list-style-type: disc;

        // Breakpoints
        @include mappy-bp(palm-medium) {
            margin-left: 0;
        }
    }

    a,
    button[data-message-subject] {
        @include content-underline($underline-background-color: white);
    }

    cite,
    em {
        font-style: italic;
    }

    img {
        @include l-content-embedded-media();

        margin-top: ms(2);
    }

    figure {
        @include l-content-embedded-media();

        text-align: left;
    }

    figcaption {
        margin-top: ms(0.5, em);

        font-size: ms(0.6, em);
    }

    code {
        padding: 0 0.25em;
        margin: 0 0.2em;

        background-color: c(l-content, code-background);

        border: border(thinner) solid c(l-content, code-background);
        border-radius: border(thinner);
    }

    hr {
        border-color: c(l-content, border-writing);
        margin-top: ms(2);
        margin-bottom: ms(2);
        max-width: $global-type-measure;
    }
}
